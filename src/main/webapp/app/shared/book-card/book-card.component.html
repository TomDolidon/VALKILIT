<div class="book-card d-flex">
  <div class="book-image" routerLink="/details/{{ book.id }}">
    <img [src]="book.imageUri | imageUrl" alt="{{ book.title }}" />
  </div>
  <div class="book-content d-flex flex-column">
    <div class="book-content-flex d-flex justify-content-between mb-2">
      <h2 class="title" routerLink="/details/{{ book.id }}">{{ book.title }}</h2>
      <span class="price"> {{ book!.price }} â‚¬</span>
    </div>

    <div class="book-categories d-flex align-items-center mb-2">
      <p-chip *ngFor="let category of limitedCategories" [label]="category.name || ''" />
      <span *ngIf="book!.categories!.length > maxVisibleCategories">...</span>
    </div>

    <span class="subtitle">{{ book.subtitle }}</span>

    <div class="book-authors d-flex align-items-center">
      <span *ngFor="let author of limitedAuthors" class="mr-1"> {{ author.name }}</span>
      <span *ngIf="book!.authors && book!.authors!.length > (maxVisibleAuthors || 0)">...</span>
    </div>

    <div class="d-flex justify-content-end mt-3">
      <div>
        <div *ngIf="!book.stock" class="text-danger text-sm bold m-1">Rupture de stock</div>
        <p-button (onClick)="onBuyBookBtnClick()" [disabled]="!book.stock" icon="pi pi-cart-plus" label="Ajouter au panier" size="small" />
      </div>
    </div>
  </div>
</div>
